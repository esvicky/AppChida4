path /users/{uid} is User {
    read() { isAuthenticated() }
    write() { isCurrentUser(uid) }
}

type Members extends Member[] {}
type Polices extends Police[] {}
type Participants extends Participant[] {}

type User {
    profile: Profile,
    members: Members,
    police: Polices
}

type Profile {
    name: String,
    lastName: String,
    momLastName: String,
    phone: Number,
    emailNotifications: Boolean,
    phoneNotifications: Boolean
}

type Member {
    name: String,
    lastName: String,
    momLastName: String,
    phone: Number,
    email: String,
    done: Boolean
}

type Police {
    name: String,
    phone: Number,
    email: String,
    participants: Participants,
    done: Boolean
}

type Participant {
  uid: String
}

isAuthenticated() { auth != null }
isCurrentUser(uid) { auth != null && auth.uid == uid }
